<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd"
                   logicalFilePath="202602240003-PRD-add-appointments-table.xml">

    <changeSet id="202602240003-PRD-add-appointments-table" author="opencode">
        <comment>Creating appointments table for scheduling appointments between pets and vets.</comment>
        <sql>
            CREATE TABLE IF NOT EXISTS appointments (
                id                   INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                pet_id               INTEGER       NOT NULL,
                vet_id               INTEGER       NOT NULL,
                scheduled_date_time  TIMESTAMP     NOT NULL,
                reason               VARCHAR(255)  NOT NULL,
                status               VARCHAR(50)   NOT NULL,
                FOREIGN KEY (pet_id) REFERENCES pets (id) ON DELETE CASCADE,
                FOREIGN KEY (vet_id) REFERENCES vets (id) ON DELETE CASCADE
            );
        </sql>
    </changeSet>

</databaseChangeLog>
